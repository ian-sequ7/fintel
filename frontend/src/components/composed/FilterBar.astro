---
interface FilterOption {
  value: string;
  label: string;
}

interface Props {
  filters: FilterOption[];
  activeFilter: string;
  paramName?: string;
  class?: string;
}

const {
  filters,
  activeFilter,
  paramName = "filter",
  class: className = "",
} = Astro.props;

// Build URLs for each filter option
function _buildUrl(value: string): string {
  const url = new URL(Astro.url);
  if (value === "all") {
    url.searchParams.delete(paramName);
  } else {
    url.searchParams.set(paramName, value);
  }
  return url.pathname + url.search;
}
---

<div class:list={["flex items-center gap-2", className]}>
  {
    filters.map((filter) => (
      <a
        href={_buildUrl(filter.value)}
        class:list={[
          "px-3 py-1.5 text-sm font-medium rounded-lg transition-colors",
          activeFilter === filter.value
            ? "bg-accent text-white"
            : "bg-bg-surface text-text-secondary hover:bg-bg-elevated hover:text-text-primary",
        ]}
      >
        {filter.label}
      </a>
    ))
  }
</div>
