---
import Layout from "../../layouts/Layout.astro";
import Card from "../../components/primitives/Card.astro";
import FilterBar from "../../components/composed/FilterBar.astro";
import NewsCard from "../../components/composed/NewsCard.astro";
import { getNews } from "../../data/report";

// All news (no category filter)
const allNews = getNews("all");

const filterTabs = [
  { value: "all", label: "All News", href: "/news" },
  { value: "market", label: "Market", href: "/news/market" },
  { value: "company", label: "Company", href: "/news/company" },
];
---

<Layout title="News Feed" description="Latest financial news covering market trends, company updates, and economic developments.">
  <!-- Page header -->
  <div class="mb-6">
    <h1 class="text-2xl font-bold text-text-primary">News Feed</h1>
    <p class="text-text-secondary">
      {allNews.length} articles from financial sources
    </p>
  </div>

  <!-- Filters -->
  <div class="mb-6">
    <FilterBar
      tabs={filterTabs}
      currentValue="all"
    />
  </div>

  <!-- News list -->
  {allNews.length === 0 ? (
    <Card>
      <p class="text-text-secondary text-center py-8">
        No news articles found.
      </p>
    </Card>
  ) : (
    <div class="space-y-4">
      {allNews.map((news) => (
        <NewsCard news={news} />
      ))}
    </div>
  )}
</Layout>
